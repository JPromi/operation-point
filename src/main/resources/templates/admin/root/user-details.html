<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layout/admin-layout :: layout (~{::title}, ~{::body})">
    <head>
        <title th:text="${user.id == 0 ? 'Neuer Benutzer' : user.username}"></title>
    </head>
    <body>
        <section>
            <h1 th:text="${user.id == 0 ? 'Neuer Benutzer' : user.username}"></h1>

            <div class="details" th:if="${user.id != 0}">
                <div class="detail-item">
                    <h5>User ID:</h5>
                    <span th:text="${user.id}"></span>
                </div>
            </div>

            <form method="POST" enctype="multipart/form-data" th:action="@{./root/user/{id}(id=${user.id == 0 ? 'new' : user.id})}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                <h3>Generell</h3>
                <div class="box">
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="text" id="username" name="username" required th:value="${user.username}" placeholder="MMax"/>
                    </div>

                    <div class="form-group">
                        <label for="password">Passwort:</label>
                        <input type="password" id="password" name="password" th:required="${user.id == 0}"/>
                    </div>

                    <div class="form-group">
                        <label for="role">Berechtigung:</label>
                        <select id="role" name="role">
                            <option value="" th:selected="${user.role == ''}"></option>
                            <option value="ADMIN" th:selected="${user.role == 'ADMIN'}">Administrator</option>
                            <option value="EDITOR" th:selected="${user.role == 'EDITOR'}">Bearbeiter</option>
                        </select>
                    </div>

                </div>

                <h3 th:if="${user.id != 0}">Sonstiges</h3>
                <div class="box" th:if="${user.id != 0}">
                    <div class="form-group checkvalue">
                        <label for="delete">LÃ¶schen:</label>
                        <input type="checkbox" name="delete" id="delete">
                    </div>

                </div>

                <div class="box">
                    <div class="btns">
                        <a th:href="@{./root/user}">Abbrechen</a>
                        <button type="submit" class="primary">Speichern</button>
                    </div>
                </div>

            </form>
        </section>
        <link rel="stylesheet" th:href="@{/css/firedepartment-details.css}">
    </body>
</html>